<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Differential equations</title>
    <meta name="description" content="">
    <meta name="author" content="Martijn Besamusca">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/5.2.3/math.min.js"></script>
    <script src="js/util.js"></script>
    <script src="js/bootstrap-colorpicker.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap-colorpicker.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="shortcut icon" href="img/favicon.ico" />
  </head>
  <body>
    <div class="container">
      <div class="section">
        <h1 class="center-align">Differential equations</h1>
      </div>
      <div class="section">
        <div id="canvas" class="center-align"></div>
      </div>
      <div class="section center-align">
        <div class="row">
          <div class="col s4">
            <a class="waves-effect waves-light btn-large green block" onclick="scene.start()">Start</a>
          </div>
          <div class="col s4">
            <a class="waves-effect waves-light btn-large red block" onclick="scene.freeze()">Stop</a>
          </div>
          <div class="col s4">
            <a class="waves-effect waves-light btn-large block" onclick="">Download gif</a>
          </div>
        </div>
      </div>
      <div class="section z-depth-1">
        <div class="row">
          <h3 class="center-align">Equation</h3>
          <div class="divider"></div>
          <div class="col s12">
            <ul class="tabs">
              <li class="tab col s4">
                <a href="#dxdy">\(\dot{x},\ \dot{y}\)</a>
              </li>
              <li class="tab col s4">
                <a href="#xymat">\( \dot{\vec{x}} = A \vec{x} \)
                </a>
              </li>
              <li class="tab col s4">
                <a class="active" href="#drdt">\(\dot{r},\ \dot{\theta}\)</a>
              </li>
            </ul>
          </div>
          <div class="col s12 error red" id="error_log"></div>
          <div id="dxdy" class="col s12">
            <div class="row">
              <div class="input-field col s12">
                <i class="prefix">\(\dot{x}\)</i>
                <input id="dx" type="text" required>
                <label for="dx">= formula</label>
              </div>
              <div class="input-field col s12">
                <i class="prefix">\(\dot{y}\)</i>
                <input id="dy" type="text" required>
                <label for="dy">= formula</label>
              </div>
            </div>
            <a class="waves-effect waves-light btn" onclick="activateDxDy()">Apply</a>
          </div>
          <div id="xymat" class="col s12">
            <span>\(A = \)</span>
            <div class="matrix">
              <input title="Matrix 1 1" type="number" id="mat11" class="mat" required>
              <input title="Matrix 1 2" type="number" id="mat12" class="mat" required>
              <input title="Matrix 2 1" type="number" id="mat21" class="mat" required>
              <input title="Matrix 2 2" type="number" id="mat22" class="mat" required>
            </div>
            <a class="waves-effect waves-light btn block" onclick="activeMatxy()">Apply</a>
          </div>
          <div id="drdt" class="col s12">
            <p>
              Note that &theta; and t are both allowed in the formulas.
            </p>
            <div class="row">
              <div class="input-field col s12">
                <i class="prefix">\(\dot{r}\)</i>
                <input id="dr" type="text" required value="r*(r-1)*(r-2)">
                <label for="dr">= formula</label>
              </div>
              <div class="input-field col s12">
                <i class="prefix">\(\dot{\theta}\)</i>
                <input id="dt" type="text" required value="1">
                <label for="dt">= formula</label>
              </div>
            </div>
            <a class="waves-effect waves-light btn" onclick="activateDrDt()">Apply</a>
          </div>
        </div>
      </div>
      <div class="section z-depth-1">
        <div class="row">
          <h3 class="col s12 center-align">Settings</h3>
          <div class="divider"></div>
          <h4 class="col s12">Screen size</h4>
          <div class="col s6 input-field">
            <label for="screen-width">Resolution width</label>
            <input id="screen-width" type="number" data-section="screen" data-name="width">
          </div>
          <div class="col s6 input-field">
            <label for="screen-height">Resolution height</label>
            <input id="screen-height" type="number" data-section="screen" data-name="height">
          </div>
          <div class="col s6 input-field">
            <label for="screen-minX">Min x</label>
            <input id="screen-minX" type="number" data-section="screen" data-name="minX">
          </div>
          <div class="col s6 input-field">
            <label for="screen-maxX">Max x</label>
            <input id="screen-maxX" type="number" data-section="screen" data-name="maxX">
          </div>
          <div class="col s6 input-field">
            <label for="screen-minY">Min y</label>
            <input id="screen-minY" type="number" data-section="screen" data-name="minY">
          </div>
          <div class="col s6 input-field">
            <label for="screen-maxY">Max y</label>
            <input id="screen-maxY" type="number" data-section="screen" data-name="maxY">
          </div>
          <h4 class="col s12">Arrow style</h4>
          <div class="col s6 input-field">
            <label for="dot-step">Step size (smaller is preciser, but slower)</label>
            <input id="dot-step" type="number" data-section="dot" data-name="step">
          </div>
          <div class="col s6 input-field">
            <label for="dot-density">Step density</label>
            <input id="dot-density" type="number" data-section="dot" data-name="density">
          </div>
          <div class="col s6 input-field">
            <label for="dot-size">Arrow size</label>
            <input id="dot-size" type="number" data-section="dot" data-name="size">
          </div>
          <div class="col s6">
            <label for="dot_c">Arrow color</label>
            <input id="dot_c" type="color" value="#000000" style="color:#00FF44" data-section="dot" data-name="color" />
          </div>
          <div class="col s6 input-field">
            <div class="switch">
              <label>
                Randomize color
                <input type="checkbox" id="path_cr" data-section="dot" data-name="color_random">
                <span class="lever"></span>
              </label>
            </div>
          </div>
          <div class="col s6 input-field">
            <label for="dot-maxAge">Max arrow age (-1 for infinite, 0 for static arrows)</label>
            <input id="dot-maxAge" type="number" data-section="dot" data-name="maxAge">
          </div>
          <div class="col s6 input-field">
            <div class="switch">
              <label>
                Normalize speed
                <input type="checkbox" id="path_cr" data-section="dot" data-name="normalize">
                <span class="lever"></span>
              </label>
            </div>
          </div>
          <h4 class="col s12">Solution path style</h4>
          <div class="col s6 input-field">
            <label for="path-length">Path length</label>
            <input id="path-length" type="number" data-section="path" data-name="length">
          </div>
          <div class="col s6 input-field">
            <label for="path-precision">Path precision boost</label>
            <input id="path-precision" type="number" data-section="path" data-name="precision">
          </div>
          <div class="col s6 input-field">
            <label for="path-width">Path width</label>
            <input id="path-width" type="number" data-section="path" data-name="width">
          </div>
          <div class="col s6">
            <label for="dot_c">Path color</label>
            <input id="dot_c" type="color" value="#000000" style="color:#00FF44" data-section="path" data-name="color" />
          </div>
          <div class="col s6 input-field">
            <div class="switch">
              <label>
                Randomize color
                <input type="checkbox" id="path_cr" data-section="path" data-name="color_random">
                <span class="lever"></span>
              </label>
            </div>
          </div>
          <div class="col s6 input-field">
            <div class="switch">
              <label>
                Solution forwards
                <input type="checkbox" id="path_cr" data-section="path" data-name="forwards">
                <span class="lever"></span>
              </label>
            </div>
          </div>
          <div class="col s6 input-field">
            <div class="switch">
              <label>
                Solution backwards
                <input type="checkbox" id="path_cr" data-section="path" data-name="backwards">
                <span class="lever"></span>
              </label>
            </div>
          </div>
        </div>
      </div>
      <div class="section">
        <a class="waves-effect waves-light btn block red" onclick="resetSaved()">Reset settings</a>
      </div>
    </div>
    <footer class="page-footer z-depth-1">
      <div class="container">
        <div class="row">
          <div class="col s12 center-align">
            <a href="https://github.com/martinusandreas99/differential-equation-plotter">View on github</a>
          </div>
          <div class="col s12 center-align">
            <a href="https://github.com/martinusandreas99/differential-equation-plotter/issues">Issue's or requests?</a>
          </div>
          <div class="col s12 center-align">
            By Martijn Besamusca.
          </div>
        </div>
      </div>
    </footer>
    <script src="js/pixi.min.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/main.js"></script>
    <script src="js/events.js"></script>
  </body>
</html>