<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Differential equations</title>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/5.2.3/math.min.js"></script>
    <script src="js/util.js"></script>
    <script src="js/bootstrap-colorpicker.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap-colorpicker.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="shortcut icon" href="img/favicon.ico"/>
</head>
<body>

<div class="container">
    <div class="section">
        <h1 class="center-align">Differential equations</h1>
    </div>
    <div id="canvas" class="section center-align"></div>

    <div class="section center-align">
        <div class="row">
            <div class="col s4">
                <a class="waves-effect waves-light btn-large green block" onclick="scene.start()">Start</a>

            </div>
            <div class="col s4">
                <a class="waves-effect waves-light btn-large blue block" onclick="scene.freeze()">Freeze</a>
            </div>
            <div class="col s4">
                <a class="waves-effect waves-light btn-large red block" onclick="scene.stop()">Stop</a>
            </div>
        </div>
    </div>

    <div class="section">
        <div class="row shadow">
            <h3 class="center-align">Equation</h3>
            <div class="divider"></div>
            <div class="col s12">
                <ul class="tabs">
                    <li class="tab col s4"><a href="#dxdy">\(\dot{x},\ \dot{y}\)</a></li>
                    <li class="tab col s4"><a href="#xymat">\(
                        \dot{\vec{x}} = A \vec{x}
                        \)</a></li>
                    <li class="tab col s4"><a class="active" href="#drdt">\(\dot{r},\ \dot{\theta}\)</a></li>
                </ul>
            </div>
            <div class="col s12 error red" id="error_log"></div>
            <div id="dxdy" class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="prefix">\(\dot{x}\)</i>
                        <input id="dx" type="text" required>
                        <label for="dx">= formula</label>
                    </div>
                    <div class="input-field col s12">
                        <i class="prefix">\(\dot{y}\)</i>
                        <input id="dy" type="text" required>
                        <label for="dy">= formula</label>
                    </div>
                </div>

                <a class="waves-effect waves-light btn" onclick="activateDxDy()">Apply</a>
            </div>

            <div id="xymat" class="col s12">
                <span>\(A = \)</span>
                <div class="matrix">
                        <input title="Matrix 1 1" type="number" id="mat11" class="mat" required>
                        <input title="Matrix 1 2" type="number" id="mat12" class="mat" required>
                        <input title="Matrix 2 1" type="number" id="mat21" class="mat" required>
                        <input title="Matrix 2 2" type="number" id="mat22" class="mat" required>
                </div>

                <a class="waves-effect waves-light btn block" onclick="activeMatxy()">Apply</a>
            </div>

            <div id="drdt" class="col s12">
                <p>
                    Note that &theta; and t are both allowed in the formulas.
                </p>
                <div class="row">
                    <div class="input-field col s12">
                        <i class="prefix">\(\dot{r}\)</i>
                        <input id="dr" type="text" required value="r(r-1)(r-2)">
                        <label for="dr">= formula</label>
                    </div>
                    <div class="input-field col s12">
                        <i class="prefix">\(\dot{\theta}\)</i>
                        <input id="dt" type="text" required value="1">
                        <label for="dt">= formula</label>
                    </div>
                </div>

                <a class="waves-effect waves-light btn" onclick="activateDrDt()">Apply</a>
            </div>
        </div>

        <div class="section">
            <div class="row">
                <h3 class="col s12 center-align">Settings</h3>

                <h4 class="col s12">Screen size</h4>

                <div class="col s6 input-field">
                    <label for="res_x">Resolution width</label>
                    <input id="res_x" type="number" value="800" data-option="width">
                </div>
                <div class="col s6 input-field">
                    <label for="res_y">Resolution height</label>
                    <input id="res_y" type="number" value="600" data-option="height">
                </div>

                <div class="divider"></div>

                <div class="col s6 input-field">
                    <label for="min_x">Min x</label>
                    <input id="min_x" type="number" value="-4" data-option="screen_minX">
                </div>
                <div class="col s6 input-field">
                    <label for="max_x">Max x</label>
                    <input id="max_x" type="number" value="4" data-option="screen_maxX">
                </div>
                <div class="col s6 input-field">
                    <label for="min_y">Min y</label>
                    <input id="min_y" type="number" value="-3" data-option="screen_minY">
                </div>
                <div class="col s6 input-field">
                    <label for="max_y">Max y</label>
                    <input id="max_y" type="number" value="3" data-option="screen_maxY">
                </div>

                <h4 class="col s12">Arrow style</h4>

                <div class="col s6 input-field">
                    <label for="step">Step size (smaller is preciser, but slower)</label>
                    <input id="step" type="number" value="0.01" data-option="dot_step">
                </div>

                <div class="col s6 input-field">
                    <label for="density">Arrow density</label>
                    <input id="density" type="number" min="0" value="0.05" data-option="dot_density">
                </div>

                <div class="col s6 file-field">
                    <label for="dot_s">Arrow scale</label>
                    <input id="dot_s" type="number" min="0" value="1.0" data-option="dot_size">
                </div>
                <div class="col s6">
                    <label for="dot_c">Arrow Color</label>
                    <input id="dot_c" type="color" value="#00FF44" style="color:#00FF44" data-option="dot_color"/>
                </div>

                <div class="col s6 input-field">
                    <div class="switch">
                        <label>
                            Randomize color
                            <input type="checkbox" id="dot_cr" checked data-option="dot_color_random">
                            <span class="lever"></span>
                        </label>
                    </div>
                </div>

                <div class="col s6 input-field">
                    <label for="max_age">Max arrow age (-1 for infinite, 0 for static arrows)</label>
                    <input id="max_age" type="number" min="-1" value="1000" data-option="dot_maxAge">
                </div>


                <div class="col s6 input-field">
                    <div class="switch">
                        <label>
                            Normalize speed
                            <input type="checkbox" id="dot_normalize" checked data-option="dot_normalize_speed">
                            <span class="lever"></span>
                            (more accurate with large derivatives, but no visual speed)
                        </label>
                    </div>
                </div>

                <h4 class="col s12">Solution path style</h4>

                <div class="col s6 file-field">
                    <label for="path_length">Path length</label>
                    <input id="path_length" type="number" min="0" value="15" data-option="path_length">
                </div>

                <div class="col s6 input-field">
                    <label for="path_res">Solution path precision boost</label>
                    <input id="path_res" type="number" min="1" value="100" data-option="path_precision">
                </div>

                <div class="col s6 file-field">
                    <label for="path_s">Path width</label>
                    <input id="path_s" type="number" min="0" value="2" data-option="path_width">
                </div>
                <div class="col s6 ">
                    <label for="path_c">Path Color</label>
                    <input id="path_c" type="color" value="#FF6633" style="color:#FF6633" data-option="path_color"/>
                </div>

                <div class="col s6 input-field">
                    <div class="switch">
                        <label>
                            Randomize color
                            <input type="checkbox" id="path_cr" data-option="path_color_random">
                            <span class="lever"></span>
                        </label>
                    </div>
                </div>

                <div class="col s12 input-field">
                    <div class="switch">
                        <label>
                            Solution path forwards
                            <input id="path_forward" type="checkbox" checked data-option="path_forwards">
                            <span class="lever"></span>
                        </label>
                    </div>
                    <div class="switch">
                        <label>
                            Solution path backwards
                            <input id="path_backwards" type="checkbox" checked data-option="path_backwards">
                            <span class="lever"></span>
                        </label>
                    </div>
                </div>


            </div>

        </div>

    </div>
    <div class="section">

            <a class="waves-effect waves-light btn block red" onclick="resetSaved()">Reset settings</a>
    </div>

</div>

<footer class="page-footer z-depth-1">
    <div class="container">
        <div class="row">
            <div class="col s12 center-align">
                By Martijn Besamusca.
            </div>
            <div class="col s12 center-align">
                <a href="https://github.com/martinusandreas99/differential-equation-plotter">View on github</a>
            </div>
            <div class="col s12 center-align">
                <a href="https://github.com/martinusandreas99/differential-equation-plotter/issues">Issue's or requests?</a>
            </div>
        </div>
    </div>
</footer>
<script src="js/pixi.min.js"></script>
<script src="js/particles.js"></script>
<script src="js/main.js"></script>
<script src="js/events.js"></script>
<script>
</script>
</body>
</html>